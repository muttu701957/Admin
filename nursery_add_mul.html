<html>
<head>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
</head>

<body class="bg-dark">

<div class="container">

<div class="row my-4">
<div class="col-lg-10 max-auto">

<div class="col-lg-10 max-auto">

<div class="card shadow">

<div class="card-header">


<h4>ADD ITEM</h4>
</div>




<div class="card-body p-4">
<form action="" method="" id="add_form">



<div id="show_item">
<div class="row">

<div class="col-md-4 md-3">
<input type="text" name="product_name[]" class="form-control" id="" placeholder="item Name" required>
</div>

<div class="col-md-3 md-3">
<input type="text" name="product_price[]" class="form-control" id="" placeholder="item price">
</div>


<div class="col-md-3 md-3">
<input type="text" name="product_qty[]" class="form-control" id="" placeholder="item qty">
</div>
<div class="col-md-2 mb-3 d-grid">
<button class="btn btn-success add_item_btn">AddMore</button>
</div>
</div>

</div>
<div>
<input type="submit" value="Add" class="btn btn-primary w-25" id="add_btn">
</div>
</form>
</div>
</div>


</div>
</div>
</div>
</div>
<script>
$(document).ready(function(){
$(".add_item_btn").click(function(e){
e.preventDefault();
$("#show_item").prepend(`<div class="row"><div class="col-md-4 md-3">
<input type="text" name="product_name[]" class="form-control" id="" placeholder="item Name" required>
</div>
<div class="col-md-3 md-3">
<input type="text" name="product_price[]" class="form-control" id="" placeholder="item price">
</div>
<div class="col-md-3 md-3">
<input type="text" name="product_qty[]" class="form-control" id="" placeholder="item qty">
</div>
<div class="col-md-2 mb-3 d-grid">
<button class="btn btn-danger remove_item_btn">Remove</button>
</div>
</div>`);
});

$(document).on('click','.remove_item_btn',function(e){
e.preventDefault();
let row_item=$(this).parent().parent();
$(row_item).remove();
});
});

// # ajax method
</script>

<script>
$('#add_form').submit(function(e) {
    e.preventDefault()
    start_load()
    $.ajax({
      url: 'ajax.php?action=save_new',
      data: new FormData($(this)[0]),
      cache: false,
      contentType: false,
      processData: false,
      method: 'POST',
      type: 'POST',
      success: function(resp) {  
        // alert(resp);
        if (resp == 1) 
        {
          alert_toast('Data successfully saved', "success");
          setTimeout(function() 
          {
            location.href = 'index.php?page=bill_list'
          }, 2000)
        }
      }
    })
  })
</script>

</body>
</html>